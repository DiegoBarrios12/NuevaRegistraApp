<app-header [showMenu]="true" title="Inicio"></app-header>
<ion-content>
  <ion-list>
    <ion-item-sliding class="product-item">
      <ion-item>
        <ion-avatar class="start">
          <img src="../../../../assets/icon/LogoAPP - copia.png" alt="">
        </ion-avatar>
        <ion-label> 
            <!-- en esta seccion hay que traer la informacion de la api con 
            con los datos del alumno o servira para ver el nombre de la seccion y del alumno-->
            <div class="name"></div> 
            <div class="data">
            <strong> Clase: </strong>{{'MP003'}} <br>
            <strong> Correo: </strong>{{user()?.email}} <br>
            <strong> Alumno: </strong >{{user()?.name}} <br>
        </div>
        </ion-label>
      </ion-item>
        
      <ion-item-options>
        <ion-item-option>
          <ion-icon class="option-btn" name="create-outline"> </ion-icon>
        </ion-item-option>

        <ion-item-option color="danger">
          <ion-icon class="option-btn" name="trash-outline"> </ion-icon>
        </ion-item-option>

      </ion-item-options>

    </ion-item-sliding>
  </ion-list>
  <!-- <ion-fab vertical="bottom" horizontal="center" slot="fixed"> //boton para agregar alumno/empleado hecho en update-employee
    <ion-fab-button (click)="addUpdateEmployee()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab> -->

  <ion-toolbar>
    <ion-title>Escanea tu Asistencia </ion-title>
  </ion-toolbar>

<ion-content>
  <div class="scan-content">
    <ion-button class="submit" type="submit" expand="block" shape="round" mode="ios" fill="outline" (click)="scanQRCode()">
      Registra tu asistencia
    </ion-button>
    <div *ngIf="scanResult" class="scan-result">
      <strong>Resultado del escaneo:</strong> 
      <p>{{ scanResult }}</p>
    </div>
    <ion-grid>
      <ion-row class="header">
        <ion-col><strong>Secci√≥n</strong></ion-col>
        <ion-col><strong>Fecha</strong></ion-col>
        <ion-col><strong>Estudiante</strong></ion-col>
        <ion-col><strong>Estado</strong></ion-col>
      </ion-row>
  
      <ion-row *ngFor="let asistencia of asistencias">
        <ion-col>{{ asistencia.seccion }}</ion-col>
        <ion-col>{{ asistencia.fecha }}</ion-col>
        <ion-col>{{ asistencia.estudiante }}</ion-col>
        <ion-col>{{ asistencia.estado }}</ion-col>
      </ion-row>
    </ion-grid>
    

    <ion-button class="submit" type="submit" expand="block"  shape="round" mode="ios" fill="outline" (click)="loadAsistencia('MP003')">
      Cargar Asistencia
    </ion-button>
    <div *ngIf="asistencia">
      <pre>{{ asistencia }}</pre>
    </div>
  </div>
  
  </ion-content>
  
    
</ion-content>